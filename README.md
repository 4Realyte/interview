# Exception in Transactional
В данной ветке проверяется знание работы кандидата с исключениями, возникающими при работе с JPA транзакциями

## Этапы проверки
1. Продемонстрировать код приложения
2. Спросить у кандидата, сохранится ли книга, и если да, то с каким заголовком
3. Запустить приложение, книга не сохранится вообще
4. Спросить у кандидата, почему так произошло и как сделать так, чтобы книга все же сохранилась с заголовком "short"

## Ожидаемые ответы
1. Книга не сохранилась, потому что по умолчанию все выброшенные непроверяемые исключения в транзакционном
методе помечаются как silently rolled back
2. Чтобы книга все же сохранилась нужно:
- Указать propagation для вложенного метода как **REQUIRES_NEW**, чтобы **_validateBookTitle_** открывалась новая транзакция,
не влияющая на результат внешней
- Указать для для вложенной транзакции **noRollBackFor(IllegalArgumentException.class)**

## Справочная информация
- При старте приложения добавляется автор с именем "Alexey" и возрастом 45 лет с помощью [файла](./src/main/resources/data.sql)
- Используется in-memory db h2. Консоль для работы с базой доступна по адресу: http://localhost:8080/h2-console
- Open session in view = false
- Код запускается с помощью CommandLineRunner при старте приложения